(this["webpackJsonpaligent-omdb-yingyao"]=this["webpackJsonpaligent-omdb-yingyao"]||[]).push([[0],{102:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},118:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(19),r=c.n(s),o=(c(92),c(93),c(43)),l=c.n(o),i=c(20),j=c(4),d=c(51),b=c(10),h=(c(95),c(96),c(154)),u=c(11),O=c(144),m=c(145),x=c(146),f=c(2),g=Object(u.a)({root:{color:"grey",height:6},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(h.a);function p(e){var t=(new Date).getFullYear(),c=n.a.useState([1970,t]),a=Object(b.a)(c,2),s=a[0],r=a[1];return Object(f.jsxs)(O.a,{className:"search-year",children:[Object(f.jsx)("div",{className:"d-none d-md-block",children:"YEAR"}),Object(f.jsxs)(m.a,{children:[Object(f.jsx)(x.a,{xs:!0,className:"year-title",children:"1970"}),Object(f.jsx)(x.a,{xs:8,children:Object(f.jsx)(g,{name:"year",value:s,min:1970,max:t,valueLabelDisplay:"auto",defaultValue:[1970,t],onChange:function(e,t){r(t)},onChangeCommitted:function(t){e.onChange(s)},getAriaLabel:function(e){return 0===e?"Start":"End"}})}),Object(f.jsx)(x.a,{xs:!0,className:"year-title",children:t})]})]})}c(102);var v=c(149),y=c(156),N=c(157),k=c(155),w=c(147),C=Object(w.a)({root:{color:"lightgray",height:45,padding:"-2px 6px"}});function S(e){var t=e.value,c=C();return Object(f.jsx)("div",{className:"search-type",children:Object(f.jsxs)(k.a,{component:"fieldset",className:"search-type",children:[Object(f.jsxs)("div",{className:"d-none d-md-block",children:["TYPE ",t]}),Object(f.jsxs)(y.a,{row:!0,name:"type",defaultValue:"",onChange:e.onChange,children:[Object(f.jsx)(N.a,{value:"",control:Object(f.jsx)(v.a,{className:c.root,color:"secondary"}),label:"Any"}),Object(f.jsx)(N.a,{value:"movie",control:Object(f.jsx)(v.a,{className:c.root}),label:"Movies"}),Object(f.jsx)(N.a,{value:"series",control:Object(f.jsx)(v.a,{className:c.root}),label:"Series"}),Object(f.jsx)(N.a,{value:"episode",control:Object(f.jsx)(v.a,{className:c.root}),label:"Episodes"})]})]})})}var M=c(72),L=c(151),E=c(152),D=c(150);var I=function(e){var t=e.onClearKeyword,c=e.onChangeYear,n=e.onChangeType,s=e.onChangeSearch,r=e.tooltip,o=e.search,l=o.keyword,i=o.year,j=o.type,d=Object(a.useState)(!1),h=Object(b.a)(d,2),u=h[0],g=h[1];return Object(f.jsx)(O.a,{className:"search-bar-container",children:Object(f.jsxs)(m.a,{children:[Object(f.jsx)(x.a,{xs:12,md:3,lg:4,xl:5,children:Object(f.jsxs)(L.a,{className:"search-input-block",size:"sm",children:[Object(f.jsx)(L.a.Text,{children:Object(f.jsx)(M.a,{id:"search-icon"})}),Object(f.jsx)(D.a,{open:u,onClose:function(){g(!1)},onOpen:function(){g(!0)},title:r,placement:"bottom-start",arrow:!0,children:Object(f.jsx)(E.a,{placeholder:"Search Movies","aria-label":"keyword","aria-describedby":"basic-addon1",name:"keyword",id:"search-keyword-input",type:"text",value:l,onClick:t,onChange:s,autoComplete:"off"})})]})}),Object(f.jsx)(x.a,{className:"search-year-block d-none d-lg-block",xs:12,lg:!0,xl:!0,children:Object(f.jsx)(p,{name:"year",value:i,onChange:c})}),Object(f.jsx)(x.a,{className:"search-type-block",xs:12,md:"auto",lg:"auto",xl:"auto",children:Object(f.jsx)(S,{name:"type",value:j,onChange:n})})]})})},R=(c(104),c(105),c(106),c(153));function T(e){var t=e.loadMoreFn;return Object(f.jsx)("div",{className:"load-more-btn d-grid gap-2",children:Object(f.jsx)(R.a,{variant:"secondary",onClick:t,children:"Click to Load More..."})})}var P=c(74);c(107);function W(e){var t=e.title,c=e.year,a=e.imgURL,n=e.id,s=e.onClick,r=e.className;return Object(f.jsx)(O.a,{className:r,onClick:function(){return s(n)},children:Object(f.jsxs)(m.a,{children:[Object(f.jsxs)(x.a,{className:"d-none d-md-block",md:{span:6,offset:2},lg:{span:3,offset:1},xxl:{span:2,offset:2},children:[Object(f.jsx)(x.a,{lg:2}),Object(f.jsx)(x.a,{lg:6,children:Object(f.jsx)("img",{className:"movie-item-poster  ",src:"N/A"!==a?a:"https://allaboutvanya.files.wordpress.com/2012/02/ilovemovies2.jpg",alt:"Poster"})}),Object(f.jsx)(x.a,{lg:1})]}),Object(f.jsxs)(x.a,{md:{span:10,offset:1},lg:{span:7,offset:1},xxl:{span:6,offset:1},children:[Object(f.jsx)(m.a,{children:Object(f.jsx)("div",{className:"movie-item-title grey-font",children:t})}),Object(f.jsx)(m.a,{children:Object(f.jsx)("div",{className:"movie-item-year d-none d-md-block",children:c})})]})]})})}function Y(e){var t=e.search,c=Object(b.a)(t.year,2),a=c[0],n=c[1],s=t.type,r=t.keyword,o=e.totalResults,l=e.movies,i=e.onSelect,j=e.loadMoreMovies,d=e.selectId;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"total-result-counts grey-font d-none d-lg-block",children:[Object(f.jsx)("p",{children:"SEARCH ".concat(s?s.toUpperCase():"ANY",': "').concat(r,'" - YEAR: ').concat(a," - ").concat(n," ")}),Object(f.jsx)("p",{children:l.length?" ".concat(o,"  RESULTS"):""})]}),Object(f.jsx)("div",{children:Object(f.jsx)(P.a,{dataLength:l.length,next:j,onClick:j,height:800,hasMore:!0,loader:Object(f.jsx)("h5",{children:"Scroll to Loading More..."}),children:l.map((function(e,t){var c=e.Title,s=e.Year,r=e.Type,o=e.Poster;e.imdbID;return s>a&&s<n?Object(f.jsx)(W,{className:d===t?"movie-item  selected":"movie-item",id:t,title:c,year:s,type:r,imgURL:o,onClick:i},t):null}))})}),l.length<o?Object(f.jsx)(T,{loadMoreFn:j}):Object(f.jsx)("div",{})]})}var A=c(59),F=(c(108),c(148));c(109);function B(e){var t=e.myCollection,c=e.placement,n=Object(a.useState)(!1),s=Object(b.a)(n,2),r=s[0],o=s[1];function l(e){console.log("TODO: handle select in WatchListSideBar",e)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R.a,{variant:"primary",onClick:function(){return o(!0)},className:"myWatchListSideBarBtn",children:"My WatchList"}),Object(f.jsxs)(F.a,{show:r,onHide:function(){return o(!1)},placement:c,children:[Object(f.jsx)(F.a.Header,{closeButton:!0,children:Object(f.jsx)(F.a.Title,{children:"My WatchList"})}),Object(f.jsx)(F.a.Body,{children:t?t.map((function(e){return Object(f.jsx)(W,{id:e.imdbID,title:e.Title,year:e.Year,imgURL:e.Poster,onClick:l},e.imdbID)})):Object(f.jsx)("p",{children:"Your Watch is Empty"})})]})]})}c(110);var U=c(78),_=c.n(U),K=c(79),V=c.n(K);function H(e){var t=e.onClick,c=e.onWatchList;return Object(f.jsxs)("button",{onClick:t,className:"addWatchlistBtn",children:[c?Object(f.jsx)(_.a,{className:"bookmark"}):Object(f.jsx)(V.a,{className:"bookmark"}),Object(f.jsx)("span",{id:"watchlist-btn-text",children:"Watchlist"})]})}function J(e){var t=e.info,c=e.info,n=c.Rated,s=c.Runtime,r=c.Actors,o=c.Genre,l=c.Plot,i=c.Ratings,j=e.basic,d=j.Title,h=j.Year,u=j.Poster,g=j.imdbID,p=Object(a.useState)([]),v=Object(b.a)(p,2),y=v[0],N=v[1],k=Object(a.useState)(!1),w=Object(b.a)(k,2),C=w[0],S=w[1];function M(e,t){return!!e.filter((function(e){return e.imdbID===t.imdbID})).length}return Object(a.useEffect)((function(){return console.log(">> useEffect for bookmark"),S(M(y,t)),function(){S(!1)}}),[C,y,t]),Object(f.jsxs)(O.a,{children:[Object(f.jsxs)(m.a,{className:"main-info",children:[Object(f.jsx)(x.a,{md:12,lg:3,xl:{range:3,offset:1},children:Object(f.jsx)("img",{src:"N/A"!==u?u:"https://plk.s6img.com/society6/img/bwP7wn9OIz8OA6hivfNNJMjufCw/w_700/posters/top/~artwork,fw_2718,fh_3618,fy_-3,iw_2718,ih_3623/s6-original-art-uploads/society6/uploads/misc/f7aa6773e46147a4a39e223774f8ec28/~~/be-kind-rainbow-posters.jpg",alt:d,className:"poster"})}),Object(f.jsx)(x.a,{md:!0,lg:8,xl:8,children:Object(f.jsxs)(O.a,{children:[Object(f.jsxs)(m.a,{children:[Object(f.jsx)(x.a,{lg:4}),Object(f.jsxs)(x.a,{sm:12,md:!0,lg:!0,children:[Object(f.jsx)(H,{onClick:function(){S((function(e){return!e})),N(C?function(e){return M(y,t)?e.filter((function(e){return e.imdbID!==g})):e}:function(e){return M(y,t)?(console.log("skip for repeated movie"),e):[].concat(Object(A.a)(e),[t])})},onWatchList:C}),Object(f.jsx)(B,{myCollection:y,placement:"end",className:"myWatchListBtn"})]})]}),Object(f.jsx)(m.a,{className:"text-row",children:Object(f.jsxs)(x.a,{xs:12,children:[Object(f.jsxs)("h1",{className:"detail-title grey-font",children:[" ",d]}),Object(f.jsxs)("div",{className:"detail-row",children:[Object(f.jsx)("p",{className:"detail-rated grey-font ft-1em",children:n}),Object(f.jsx)("p",{className:"detail-year grey-font ft-1em",children:"  ".concat(h," \xb7 ").concat(o," \xb7 ").concat(s)})]}),Object(f.jsx)("p",{className:"detail-actors grey-font ft-1em",children:r})]})})]})})]}),Object(f.jsx)("hr",{}),Object(f.jsx)(m.a,{children:Object(f.jsx)(x.a,{children:Object(f.jsxs)("p",{className:"detail-plot grey-font ft-1em",children:[l," "]})})}),Object(f.jsx)("hr",{}),i?Object(f.jsxs)(m.a,{className:"detail-ratings",children:[i.length?Object(f.jsxs)(x.a,{className:"detail-rating grey-font ft-1em",children:[Object(f.jsx)("p",{className:"rating-score",children:i[0].Value}),Object(f.jsx)("p",{className:"rating-source",children:i[0].Source})]}):null,i.length>1?Object(f.jsxs)(x.a,{className:"detail-rating grey-font ft-1em",children:[Object(f.jsx)("p",{className:"rating-score",children:i[1].Value}),Object(f.jsx)("p",{className:"rating-source",children:i[1].Source})]}):null,i.length>2?Object(f.jsxs)(x.a,{className:"detail-rating grey-font ft-1em",children:[Object(f.jsx)("p",{className:"rating-score",children:i[2].Value}),Object(f.jsx)("p",{className:"rating-source",children:i[2].Source})]}):null]}):null,Object(f.jsx)("hr",{}),Object(f.jsx)(m.a,{children:Object(f.jsxs)(x.a,{className:"grey-font ft-1em",children:[Object(f.jsxs)("p",{children:["My movie watch list (Total ",y.length," items):"]}),y.map((function(e){return Object(f.jsx)("p",{children:" ".concat(e.Title," : ").concat(e.Year)},e.imdbID)}))]})})]})}function z(e){var t=e.search,c=e.totalResults,n=e.movies,s=e.loadMoreMovies,r=Object(a.useState)("tt0076759"),o=Object(b.a)(r,2),i=o[0],j=o[1],h=Object(a.useState)(0),u=Object(b.a)(h,2),g=u[0],p=u[1],v=Object(a.useState)({}),y=Object(b.a)(v,2),N=y[0],k=y[1],w="https://www.omdbapi.com/?apikey=".concat("866364e","&i=").concat(i);Object(a.useEffect)((function(){console.log("(R) UseEffect fetch movie detail ->"),N.length&&j(n[0].imdbID),C()}),[i]);var C=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(w);case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,k(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.toString);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(O.a,{className:"search-result-container",children:Object(f.jsxs)(m.a,{children:[Object(f.jsx)(x.a,{xs:5,md:4,className:"search-result-list",children:Object(f.jsx)(Y,{movies:n,search:t,selectId:g,onSelect:function(e){p(e),j(n[e].imdbID),C()},totalResults:c,loadMoreMovies:s})}),Object(f.jsx)(x.a,{xs:7,md:8,className:"detail-container",children:N?Object(f.jsx)(J,{basic:n[g],info:N}):Object(f.jsx)("h1",{children:"Loading Movie Details..."})})]})})}c(112);function G(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),r=Object(b.a)(s,2),o=r[0],h=r[1],u=(new Date).getFullYear(),g=Object(a.useState)({keyword:"star",year:[1970,u],type:"",page:1}),p=Object(b.a)(g,2),v=p[0],y=p[1],N=Object(a.useState)(!1),k=Object(b.a)(N,2),w=k[0],C=k[1],S=Object(a.useState)("Please enter Keyword"),M=Object(b.a)(S,2),L=M[0],E=M[1],D="https://www.omdbapi.com/?apikey=".concat("866364e","&s=").concat(v.keyword,"&type=").concat(v.type,"&page=").concat(v.page);function R(){return(R=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(D);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log("Get Movie data from omdb API>>",D,a),"True"===a.Response?(E(""),h(a.totalResults),w&&(console.log("Clear movies"),n([])),0===c.length?n(a.Search):n((function(e){return e.concat(a.Search)})),C(!1)):"Incorrect IMDb ID."===a.Error?E("Please Enter Keyword to Search Movies"):E(a.Error),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error in getMovies()",e.t0.toString);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}Object(a.useEffect)((function(){return console.log(">> (L) useEffect fetch movie basic"),function(){R.apply(this,arguments)}(),function(){C(!1)}}),[v]);function T(e){var t=e.target.name,c=e.target.value;"keyword"===t&&(c=c.replace(/\s+/g,"+").toLowerCase()),y((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(i.a)({},t,c))})),C(!0)}return Object(f.jsx)("div",{className:"homepage",children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(m.a,{children:Object(f.jsx)(I,{className:"search-bar",search:v,onClearKeyword:function(){y((function(e){return Object(j.a)(Object(j.a)({},e),{},{keyword:"",page:1})})),C(!0)},onChangeYear:function(e){y((function(t){return Object(j.a)(Object(j.a)({},t),{},{year:e})}))},onChangeType:T,onChangeSearch:T,tooltip:L})}),Object(f.jsx)(m.a,{children:Object(f.jsx)(x.a,{children:c.length?Object(f.jsx)(z,{className:"search-result",movies:c,search:v,totalResults:o,loadMoreMovies:function(){y((function(e){return Object(j.a)(Object(j.a)({},e),{},{page:e.page+1})}))},tooltip:L}):Object(f.jsxs)("div",{className:"empty-keyword",children:[Object(f.jsx)("h1",{children:"Woops..."}),Object(f.jsx)("h3",{children:"Please Enter KeyWord to Search Movie"})]})})})]})})}c(113);function $(){return Object(f.jsxs)("div",{className:"under-construction",children:[Object(f.jsx)("h1",{children:"Watch List Page"}),Object(f.jsx)("h3",{children:"is Under Construction"}),Object(f.jsx)("img",{src:"https://ulladulla-p.schools.nsw.gov.au/content/dam/doe/sws/schools/u/ulladulla-p/gallery/news-images/2019/websiteunderconstruction.jpg.thumb.1280.1280.jpg",alt:"Under Construction"})]})}var q=c(15),Q=(c(114),c(80)),X=c(36);function Z(){return Object(f.jsx)(O.a,{className:"header",children:Object(f.jsx)("nav",{children:Object(f.jsxs)(m.a,{children:[Object(f.jsxs)(x.a,{className:"logo",md:12,lg:"auto",children:[Object(f.jsx)(Q.a,{className:"logo"}),Object(f.jsx)(X.b,{to:"/",children:Object(f.jsx)("span",{className:"header-title",children:"Open Movie Database"})})]}),Object(f.jsx)(x.a,{className:"links d-none d-md-block",md:12,lg:"auto",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(X.b,{to:"/",className:"header-link",children:"Search Movie"})}),Object(f.jsx)("li",{children:Object(f.jsx)(X.b,{to:"/watchlist",className:"header-link",children:"WatchList Page"})})]})})]})})})}function ee(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(Z,{className:"header"}),Object(f.jsxs)(q.c,{children:[Object(f.jsx)(q.a,{exact:!0,path:"/",component:G}),Object(f.jsx)(q.a,{path:"/watchlist",component:$}),Object(f.jsx)(q.a,{path:"*",component:G})]})]})}var te=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,158)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(f.jsx)(X.a,{children:Object(f.jsx)(ee,{})}),document.getElementById("root")),te()},92:function(e,t,c){},93:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){}},[[118,1,2]]]);
//# sourceMappingURL=main.b9a2b019.chunk.js.map