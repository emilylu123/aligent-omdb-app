(this["webpackJsonpaligent-omdb-yingyao"]=this["webpackJsonpaligent-omdb-yingyao"]||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},110:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(21),r=c.n(s),i=(c(86),c(87),c(36)),l=c.n(i),o=c(16),j=c(4),d=c(47),h=c(10),b=(c(89),c(90),c(112)),u=c(134),O=c(142),x=c(2);function m(e){var t=(new Date).getFullYear(),c=n.a.useState([1970,t]),a=Object(h.a)(c,2),s=a[0],r=a[1];return Object(x.jsxs)("div",{className:"search-year",children:[Object(x.jsx)(b.a,{id:"year-slider",gutterBottom:!0,children:"YEAR"}),Object(x.jsxs)(u.a,{container:!0,spacing:2,children:[Object(x.jsx)(u.a,{item:!0,children:"1970"}),Object(x.jsx)(u.a,{item:!0,xs:!0,children:Object(x.jsx)(O.a,{color:"secondary",name:"year",value:s,min:1970,max:t,onChange:function(e,t){r(t)},onChangeCommitted:function(t){e.onChange(s)},valueLabelDisplay:"auto",getAriaLabel:function(e){return 0===e?"Start":"End"}})}),Object(x.jsx)(u.a,{item:!0,children:t})]})]})}c(95);var f=c(140),g=c(146),p=c(135),v=c(145);function y(e){var t=e.value;return Object(x.jsx)("div",{className:"search-type",children:Object(x.jsxs)(v.a,{component:"fieldset",className:"search-type",children:["TYPE ",t,Object(x.jsxs)(g.a,{row:!0,name:"type",defaultValue:"",onChange:e.onChange,children:[Object(x.jsx)(p.a,{value:"",control:Object(x.jsx)(f.a,{color:"secondary"}),label:"Any"}),Object(x.jsx)(p.a,{value:"movie",control:Object(x.jsx)(f.a,{color:"secondary"}),label:"Movies"}),Object(x.jsx)(p.a,{value:"series",control:Object(x.jsx)(f.a,{color:"secondary"}),label:"Series"}),Object(x.jsx)(p.a,{value:"episode",control:Object(x.jsx)(f.a,{color:"secondary"}),label:"Episodes"})]})]})})}var N=c(69),k=c(136),w=c(137),C=c(138),S=c(141),M=c(143);var R=function(e){var t=e.search,c=t.keyword,a=t.year,n=t.type,s=e.onClearKeyword,r=e.onChangeYear,i=e.onChangeType,l=e.onChangeSearch;return Object(x.jsx)(k.a,{className:"search-bar-container",children:Object(x.jsxs)(w.a,{children:[Object(x.jsx)(C.a,{xs:!0,children:Object(x.jsxs)(S.a,{className:"search-input-block",size:"lg",children:[Object(x.jsx)(S.a.Text,{children:Object(x.jsx)(N.a,{id:"search-icon"})}),Object(x.jsx)(M.a,{placeholder:"Search Movies","aria-label":"keyword","aria-describedby":"basic-addon1",name:"keyword",id:"search-keyword-input",type:"text",value:c,onClick:s,onChange:l})]})}),Object(x.jsx)(C.a,{className:"search-year-block",xs:"auto",children:Object(x.jsx)(m,{name:"year",value:a,onChange:r})}),Object(x.jsx)(C.a,{className:"search-type-block",xs:"auto",children:Object(x.jsx)(y,{name:"type",value:n,onChange:i})})]})})},L=(c(97),c(98),c(99),c(144));function E(e){var t=e.loadMoreFn;return Object(x.jsx)("div",{className:"load-more-btn d-grid gap-2",children:Object(x.jsx)(L.a,{variant:"secondary",onClick:t,children:"Click to Load More..."})})}var T=c(70);c(100);function Y(e){var t=e.title,c=e.year,a=e.imgURL,n=e.id,s=e.onClick;return Object(x.jsx)(k.a,{className:e.className,onClick:function(){return s(n)},children:Object(x.jsxs)(w.a,{children:[Object(x.jsx)(C.a,{md:12,xl:3,children:Object(x.jsx)("img",{src:"N/A"!==a?a:"https://allaboutvanya.files.wordpress.com/2012/02/ilovemovies2.jpg",alt:"Poster",className:"movie-item-poster  d-none d-xl-block"})}),Object(x.jsxs)(C.a,{md:12,xl:9,children:[Object(x.jsx)(w.a,{children:Object(x.jsx)("div",{className:"movie-item-title grey-font",children:t})}),Object(x.jsx)(w.a,{children:Object(x.jsx)("div",{className:"movie-item-year grey-font",children:c})})]})]})})}function A(e){var t=e.search,c=Object(h.a)(t.year,2),a=c[0],n=c[1],s=t.type,r=t.keyword,i=e.totalResults,l=e.movies,o=e.onSelect,j=e.loadMoreMovies,d=e.hasMore,b=e.selectId;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"total-result-counts grey-font",children:[Object(x.jsxs)("p",{children:['SEARCH MOVIE: "'.concat(r,'" - YEAR RANGE: ').concat(a," - ").concat(n," - TYPE: ")," ",s?s.toUpperCase():"ANY"]}),Object(x.jsx)("p",{children:l.length?"".concat(l.length," / ").concat(i,"  RESULTS"):""})]}),Object(x.jsx)("div",{children:Object(x.jsx)(T.a,{dataLength:l.length,next:j,onClick:j,height:850,hasMore:d,loader:Object(x.jsx)("h5",{children:"Scroll to Loading More..."}),endMessage:Object(x.jsx)("p",{style:{textAlign:"center"},children:Object(x.jsx)("b",{children:"`Yay! You have seen it all`"})}),children:l.map((function(e,t){var c=e.Title,s=e.Year,r=e.Type,i=e.Poster;e.imdbID;return s>a&&s<n?Object(x.jsx)(Y,{className:b===t?"movie-item  selected":"movie-item",id:t,title:c,year:s,type:r,imgURL:i,onClick:o},t):null}))})}),l.length<i?Object(x.jsx)(E,{loadMoreFn:j,hasMore:d}):Object(x.jsx)("div",{})]})}var D=c(56),P=(c(101),c(139));c(102);function W(e){var t=e.listData,c=e.placement,n=Object(a.useState)(!1),s=Object(h.a)(n,2),r=s[0],i=s[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(L.a,{variant:"primary",onClick:function(){return i(!0)},className:"myWatchListSideBarBtn",children:"My WatchList"}),Object(x.jsxs)(P.a,{show:r,onHide:function(){return i(!1)},placement:c,children:[Object(x.jsx)(P.a.Header,{closeButton:!0,children:Object(x.jsx)(P.a.Title,{children:"My WatchList"})}),Object(x.jsx)(P.a.Body,{children:t?t.map((function(e,t){return Object(x.jsx)("p",{children:e},t)})):Object(x.jsx)("p",{children:"Empty"})})]})]})}c(103);var F=c(74),I=c.n(F),B=c(75),U=c.n(B);function V(e){var t=e.onClick,c=e.onWatchList;return Object(x.jsxs)("button",{onClick:t,className:"addWatchlistBtn",children:[c?Object(x.jsx)(I.a,{className:"bookmark"}):Object(x.jsx)(U.a,{className:"bookmark"}),"Watchlist"]})}function G(e){var t=e.info,c=t.Rated,n=t.Runtime,s=t.Actors,r=t.Genre,i=t.Plot,l=t.Ratings,o=e.basic,j=o.Title,d=(o.Type,o.Year),b=o.Poster,u=o.imdbID,O=Object(a.useState)([]),m=Object(h.a)(O,2),f=m[0],g=m[1],p=Object(a.useState)(!1),v=Object(h.a)(p,2),y=v[0],N=v[1];return Object(a.useEffect)((function(){return N(f.includes(u)),function(){N(!1)}}),[u]),Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(w.a,{children:[Object(x.jsx)(C.a,{xs:12,md:3,children:Object(x.jsx)("img",{src:b,alt:j,className:"poster"})}),Object(x.jsx)(C.a,{md:9,children:Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(w.a,{children:[Object(x.jsx)(C.a,{md:6}),Object(x.jsxs)(C.a,{sm:12,md:!0,children:[Object(x.jsx)(V,{onClick:function(){N((function(e){return!e})),g(y?function(e){return f.includes(u)?e.filter((function(e){return e!==u})):e}:function(e){return f.includes(u)?(console.log("skip for repeated movie"),e):[].concat(Object(D.a)(e),[u])})},onWatchList:y}),Object(x.jsx)(W,{listData:f,placement:"end",className:"myWatchListBtn"})]})]}),Object(x.jsx)(w.a,{className:"text-row",children:Object(x.jsxs)(C.a,{xs:12,children:[Object(x.jsxs)("h1",{className:"detail-title grey-font",children:[" ",j]}),Object(x.jsxs)("div",{className:"detail-row",children:[Object(x.jsx)("p",{className:"detail-rated grey-font ft-20",children:c}),Object(x.jsx)("p",{className:"detail-year grey-font ft-20",children:"  ".concat(d," \xb7 ").concat(r," \xb7 ").concat(n)})]}),Object(x.jsx)("p",{className:"detail-actors grey-font ft-20",children:s})]})})]})})]}),Object(x.jsx)("hr",{}),Object(x.jsx)(w.a,{children:Object(x.jsx)(C.a,{children:Object(x.jsxs)("p",{className:"detail-plot grey-font ft-20",children:[i," "]})})}),Object(x.jsx)("hr",{}),l?Object(x.jsxs)(w.a,{className:"detail-ratings grey-font",children:[l.length?Object(x.jsxs)(C.a,{className:"detail-rating grey-font",children:[Object(x.jsx)("h4",{children:l[0].Value}),Object(x.jsx)("h5",{children:l[0].Source})]}):null,l.length>1?Object(x.jsxs)(C.a,{className:"detail-rating grey-font",children:[Object(x.jsx)("h4",{children:l[1].Value}),Object(x.jsx)("h5",{children:l[1].Source})]}):null,l.length>2?Object(x.jsxs)(C.a,{className:"detail-rating grey-font",children:[Object(x.jsx)("h4",{children:l[2].Value}),Object(x.jsx)("h5",{children:l[2].Source})]}):null]}):null,Object(x.jsx)("hr",{}),Object(x.jsx)(w.a,{children:Object(x.jsxs)(C.a,{className:"grey-font",children:[Object(x.jsxs)("h5",{children:["My movie watch list (Total ",f.length," items):"]}),f.map((function(e,t){return Object(x.jsx)("p",{children:e},t)}))]})})]})}function H(e){var t=e.search,c=e.totalResults,n=e.movies,s=e.loadMoreMovies,r=e.hasMore,i=Object(a.useState)("tt0076759"),o=Object(h.a)(i,2),j=o[0],b=o[1],u=Object(a.useState)(0),O=Object(h.a)(u,2),m=O[0],f=O[1],g=Object(a.useState)({}),p=Object(h.a)(g,2),v=p[0],y=p[1],N="http://www.omdbapi.com/?apikey=".concat("866364e","&i=").concat(j);Object(a.useEffect)((function(){console.log("(R) UseEffect fetch movie detail ->"),v.length&&b(n[0].imdbID),S()}),[j]);var S=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(">> Render get movie detail ->",j),e.next=4,fetch(N);case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,y(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.toString);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(k.a,{className:"search-result-container",children:Object(x.jsxs)(w.a,{children:[Object(x.jsx)(C.a,{xs:5,md:4,className:"search-result-list",children:Object(x.jsx)(A,{movies:n,search:t,selectId:m,onSelect:function(e){f(e),b(n[e].imdbID),S()},totalResults:c,loadMoreMovies:s,hasMore:r})}),Object(x.jsx)(C.a,{xs:7,md:8,className:"detail-container",children:v?Object(x.jsx)(G,{basic:n[m],info:v}):Object(x.jsx)("h1",{children:"Loading Movie Details..."})})]})})}c(105);function K(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),r=Object(h.a)(s,2),i=r[0],b=r[1],u=(new Date).getFullYear(),O=Object(a.useState)(!1),m=Object(h.a)(O,2),f=m[0],g=m[1],p=Object(a.useState)({keyword:"star",year:[1970,u],type:"",page:1}),v=Object(h.a)(p,2),y=v[0],N=v[1],S=Object(a.useState)(!0),M=Object(h.a)(S,2),L=M[0],E=M[1],T="http://www.omdbapi.com/?apikey=".concat("866364e","&s=").concat(y.keyword,"&type=").concat(y.type,"&page=").concat(y.page);function Y(){return(Y=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(T);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log("Get Movie data -from omdb API>>",T,a),"True"===a.Response&&(f&&(console.log("Clear movies"),n([])),0===c.length?(console.log("1st time set movies",a.Response),n(a.Search),b(a.totalResults)):A(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.toString);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function A(e){b(e.totalResults),c.length>=i&&E(!1),n((function(t){return t.concat(e.Search)}))}Object(a.useEffect)((function(){!function(){Y.apply(this,arguments)}()}),[y]);function D(e){var t=e.target,c=t.name,a=t.value;console.log("handleSearchChange <- ",c,a),N((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(o.a)({},c,a))})),g(!0)}return Object(x.jsx)("div",{className:"homepage",children:Object(x.jsxs)(k.a,{children:[Object(x.jsx)(w.a,{children:Object(x.jsx)(R,{className:"search-bar",search:y,onClearKeyword:function(){N((function(e){return Object(j.a)(Object(j.a)({},e),{},{keyword:"",page:1})})),g(!0)},onChangeYear:function(e){N((function(t){return Object(j.a)(Object(j.a)({},t),{},{year:e})}))},onChangeType:D,onChangeSearch:D})}),Object(x.jsx)(w.a,{children:Object(x.jsx)(C.a,{children:c.length?Object(x.jsx)(H,{className:"search-result",movies:c,search:y,totalResults:i,loadMoreMovies:function(){N((function(e){return Object(j.a)(Object(j.a)({},e),{},{page:e.page+1})}))},hasMore:L}):Object(x.jsxs)("div",{className:"empty-keyword",children:[Object(x.jsx)("h1",{children:"Woops..."}),Object(x.jsx)("h3",{children:"Please Enter KeyWord to Search Movie"})]})})})]})})}c(106);function J(){return Object(x.jsxs)("div",{className:"under-construction",children:[Object(x.jsx)("h1",{children:"Watch List Page"}),Object(x.jsx)("h3",{children:"is Under Construction"}),Object(x.jsx)("img",{src:"https://ulladulla-p.schools.nsw.gov.au/content/dam/doe/sws/schools/u/ulladulla-p/gallery/news-images/2019/websiteunderconstruction.jpg.thumb.1280.1280.jpg",alt:"Under Construction"})]})}var z=c(13),q=(c(107),c(76)),Q=c(30);function X(){return Object(x.jsx)("div",{className:"header",children:Object(x.jsxs)("nav",{children:[Object(x.jsxs)("div",{className:"logo",children:[Object(x.jsx)(q.a,{className:"logo"}),Object(x.jsx)(Q.b,{to:"/",children:Object(x.jsx)("span",{className:"header",children:"Open Movie Database"})})]}),Object(x.jsx)("div",{className:"links",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(Q.c,{to:"/",children:"Search Movie"})}),Object(x.jsx)("li",{children:Object(x.jsx)(Q.c,{to:"/watchlist",children:"WatchList Page"})})]})})]})})}function Z(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(X,{}),Object(x.jsxs)(z.c,{children:[Object(x.jsx)(z.a,{exact:!0,path:"/",component:K}),Object(x.jsx)(z.a,{path:"/watchlist",component:J})]})]})}var $=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,148)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(Q.a,{children:Object(x.jsx)(Z,{})})}),document.getElementById("root")),$()},86:function(e,t,c){},87:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},95:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){},99:function(e,t,c){}},[[110,1,2]]]);
//# sourceMappingURL=main.62f5890b.chunk.js.map